{"config":{"lang":["en","ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to WireGuard Bridge - bridge for WireGuard and OpenVPN","text":"<p>Docker container that bridges WireGuard clients to OpenVPN servers, providing a seamless way to route WireGuard traffic through existing OpenVPN connections.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Zero-config setup: Just mount the OpenVPN configuration files and the WireGuard directory and the container will do the rest.</li> <li>Key persistence: Maintains consistent server keys across container restarts when properly configured</li> <li>Health Monitoring &amp; Automatic Restart: Built-in health checks for both OpenVPN and WireGuard processes with automatic restart on failure.</li> <li>Client management: Automatic generation of client configurations. You can specify the number of clients or the names of the clients.</li> <li>Python-based: Fully Python-controlled process management with additional control over running container.</li> </ul>"},{"location":"#attention","title":"Attention","text":"<p>This container requires the <code>--privileged</code> flag because it uses <code>sysctl</code> to configure forwarding rules. Despite this, the container runs processes as a non-root user with limited permissions for improved security.</p> <p>This documentation provides detailed information on how to use, configure, and troubleshoot the WireGuard Bridge.</p>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#architecture","title":"Architecture","text":"<p>The WireGuard Bridge uses a fully Python-controlled architecture which is divided into 5 phases:</p> <ol> <li>Phase 1: Infrastructure setup</li> <li>Phase 2: OpenVPN client setup and configuration</li> <li>Phase 3: WireGuard config generation</li> <li>Phase 4: WireGuard server setup</li> <li>Phase 5: Health checking and process monitoring</li> </ol>"},{"location":"architecture/#how-it-works","title":"How it works","text":"<p>Phase 1:</p> <ul> <li>Enable IP forwarding</li> <li>Find OpenVPN config</li> </ul> <p>Phase 2:</p> <ul> <li>Start OpenVPN client</li> <li>Wait for tunnel to be established (tun interface is up)</li> </ul> <p>Phase 3:</p> <ul> <li>Generate or restore WireGuard server keys</li> <li>Generate or restore WireGuard clients keys</li> <li>Generate or restore WireGuard server config</li> </ul> <p>Phase 4:</p> <ul> <li>Start WireGuard server</li> <li>Wait for WireGuard server to be ready</li> <li>Ready to use</li> </ul> <p>Phase 5(passive):</p> <ul> <li>Monitor OpenVPN client and WireGuard server processes and restart them if they crash</li> <li>Manage restart on new clients addition in runtime</li> </ul>"},{"location":"configuration/","title":"Configuration","text":""},{"location":"configuration/#environment-variables","title":"Environment Variables","text":"Variable Default Description <code>WG_PORT</code> <code>1195</code> WireGuard listening port <code>CONFIG_NAME</code> <code>wg0</code> WireGuard interface name (server config name) <code>WG_CLIENTS</code> <code>client</code> Comma-separated client names <code>WG_ADDRESS_RANGE</code> <code>10.9.0.0/24</code> WireGuard address range <code>PUBLIC_IP</code> auto-detected Public IP for client configs"},{"location":"configuration/#volume-mounts","title":"Volume Mounts","text":"Container Path Purpose Required <code>/etc/openvpn/config</code> OpenVPN configuration files \u2705 Yes <code>/etc/wireguard</code> WireGuard keys and configs \u26a0\ufe0f Highly Recommended <code>/var/log/openvpn</code> OpenVPN logs \u274c Optional"},{"location":"configuration/#wireguard-keys-and-configs","title":"WireGuard keys and configs","text":"<p>Server keys and client configs can be mounted separately. If you don't mount the WireGuard directory, the container will generate a new set of keys and configs.</p> <pre><code>-v ./bridge/wireguard:/etc/wireguard:Z\n</code></pre> <pre><code>-v ./bridge/wireguard/clients:/etc/wireguard/clients:Z -v ./bridge/wireguard/keys:/etc/wireguard/keys:Z\n</code></pre>"},{"location":"configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"configuration/#multiple-clients","title":"Multiple Clients","text":"<p>To create configurations for multiple clients, provide a comma-separated list of names in the <code>WG_CLIENTS</code> environment variable.</p> <pre><code>-e WG_CLIENTS=\"number1,number2,number3\"\n# Creates: number1.conf, number2.conf, number3.conf\n</code></pre> <p>Or you can just enter number of clients in the <code>WG_CLIENTS</code> environment variable and the container will generate the necessary number of clients.</p> <pre><code>-e WG_CLIENTS=3\n# Creates: client1.conf, client2.conf, client3.conf\n</code></pre>"},{"location":"configuration/#adding-client-in-runtime","title":"Adding client in runtime","text":"<p>You can add a client in runtime by executing command in the container.</p> <pre><code>docker exec -it wireguardbridge setup_wireguard add-client test\n</code></pre> <p>This will create a new client named <code>test</code> and automatically restart the WireGuard service. However, if you have not mounted the entire <code>/etc/wireguard</code> directory (for example, if you are only mounting the <code>clients</code> and <code>keys</code> subfolders), the new client will not be added to the server configuration after a container restart. In this case, you must also add the client name to the <code>WG_CLIENTS</code> environment variable to ensure it is included in the configuration on startup.</p>"},{"location":"configuration/#custom-network-range","title":"Custom Network Range","text":"<p>You can customize the IP address range for the WireGuard network using the <code>WG_ADDRESS_RANGE</code> environment variable.</p> <pre><code>-e WG_ADDRESS_RANGE=\"10.8.0.0/24\"\n# Server: 10.8.0.1, Clients: 10.8.0.2, 10.8.0.3, etc.\n</code></pre>"},{"location":"configuration/#static-public-ip","title":"Static Public IP","text":"<p>If the container cannot automatically detect the public IP or you want to use a specific one, set it with the <code>PUBLIC_IP</code> environment variable.</p> <pre><code>-e PUBLIC_IP=\"10.8.0.1\"\n</code></pre>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#quick-start","title":"Quick Start","text":"<p>The quickest way to get started is by using the pre-built Docker container from GitHub Container Registry.</p>"},{"location":"usage/#mounting-wireguard-directory","title":"Mounting wireguard directory","text":"<pre><code>docker run -d \\\n  --name wireguard-bridge \\\n  --privileged \\\n  -p 1195:1195/udp \\ # Default port for WireGuard\n  -v /path/to/openvpn/config:/etc/openvpn/config:ro \\ # OpenVPN configuration files\n  -v /path/to/wireguard/data:/etc/wireguard \\ # WireGuard key and config persistence\n  ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n</code></pre>"},{"location":"usage/#important-key-persistence","title":"\ud83d\udd11 IMPORTANT: Key Persistence","text":"<p>To prevent client configurations from becoming invalid after container restarts, you MUST mount the WireGuard directory as a volume:</p> <pre><code>-v /path/to/wireguard/data:/etc/wireguard\n</code></pre> <p>Or you can mount only the <code>clients</code> and <code>keys</code> subfolders.</p> <pre><code>docker run -d \\\n  --name wireguard-bridge \\\n  --privileged \\\n  -e WG_PORT=1194 \\ # WireGuard port\n  -p 1194:1194/udp \\ # WireGuard port\n  -v /path/to/openvpn/config:/etc/openvpn/config:ro \\ # OpenVPN configuration files\n  -v /path/to/wireguard/clients:/etc/wireguard/clients:Z \\ # WireGuard client configs\n  -v /path/to/wireguard/keys:/etc/wireguard/keys:Z \\ # WireGuard server keys(to restore server keys after container restart)\n  ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n</code></pre> <p>Environment variables information: Configuration</p>"},{"location":"usage/#health-checks","title":"Health Checks","text":"<p>The container includes built-in health monitoring:</p> <pre><code># Check container health\ndocker ps | grep wireguard-bridge  # Should be \"healthy\" status\n\n# Manual health check\ndocker exec wireguard-bridge bridge --health-check\n</code></pre>"},{"location":"usage/#docker-compose-example","title":"Docker Compose Example","text":"<p>For a more declarative setup, there is an example <code>docker-compose</code> file.</p>"},{"location":"usage/#single-bridge-example","title":"Single Bridge (example)","text":"<pre><code>services:\n  wg-bridge:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1195:1195/udp\"\n    volumes:\n      - ./openvpn:/etc/openvpn/config:Z\n      - ./wireguard:/etc/wireguard:Z\n</code></pre> <p>Your directory structure should look like this:</p> <pre><code>.\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 openvpn/\n\u2502   \u2514\u2500\u2500 your-config.ovpn   # Your OpenVPN client configuration file (or .conf file)\n\u2502   \u2514\u2500\u2500 ...                # Other OpenVPN related files\n\u2514\u2500\u2500 wireguard/             # This directory will be used for WireGuard key and config persistence\n\u2502   \u2514\u2500\u2500 clients/            # Client configurations will be stored here\n\u2502   \u2514\u2500\u2500 keys/              # WireGuard Server keys will be stored here\n\u2502   \u2514\u2500\u2500 wg0.conf           # WireGuard Server config file\n\u2502   \u2514\u2500\u2500 ...                # Other WireGuard related files\n</code></pre>"},{"location":"usage/#multiple-bridges-example","title":"Multiple Bridges (example)","text":"<pre><code>services:\n  wg-bridge-1:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge-1\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1195:1195/udp\"\n    environment:\n      - WG_PORT=1195\n    volumes:\n      - ./bridges/bridge-1/openvpn:/etc/openvpn/config:Z\n      - ./bridges/bridge-1/wireguard/clients:/etc/wireguard/clients:Z\n      - ./bridges/bridge-1/wireguard/keys:/etc/wireguard/keys:Z\n  wg-bridge-2:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge-2\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1194:1194/udp\"\n    environment:\n      - WG_PORT=1194\n    volumes:\n      - ./bridges/bridge-2/openvpn:/etc/openvpn/config:Z\n      - ./bridges/bridge-2/wireguard/clients:/etc/wireguard/clients:Z\n      - ./bridges/bridge-2/wireguard/keys:/etc/wireguard/keys:Z\n</code></pre> <p>Your directory structure should look like this:</p> <pre><code>.\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 bridges/\n\u2502   \u2514\u2500\u2500 bridge-1/\n\u2502       \u2514\u2500\u2500 openvpn/\n\u2502           \u2514\u2500\u2500 your-config.ovpn\n\u2502           \u2514\u2500\u2500 ...\n\u2502       \u2514\u2500\u2500 wireguard/\n\u2502           \u2514\u2500\u2500 clients/\n\u2502           \u2514\u2500\u2500 keys/\n\u2502           \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 bridge-2/\n\u2502       \u2514\u2500\u2500 openvpn/\n\u2502           \u2514\u2500\u2500 your-config.ovpn\n\u2502           \u2514\u2500\u2500 ...\n\u2502       \u2514\u2500\u2500 wireguard/\n\u2502           \u2514\u2500\u2500 clients/\n\u2502           \u2514\u2500\u2500 keys/\n\u2502           \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"ru/","title":"WireGuard Bridge - \u043c\u043e\u0441\u0442 \u0434\u043b\u044f WireGuard \u0438 OpenVPN","text":"<p>\u042d\u0442\u043e\u0442 Docker-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u043a OpenVPN-\u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0447\u0435\u0440\u0435\u0437 WireGuard \u2014 \u0432\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 WireGuard, \u0430 \u0432\u0435\u0441\u044c \u0442\u0440\u0430\u0444\u0438\u043a \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 OpenVPN-\u043a\u043e\u043d\u0444\u0438\u0433.</p>"},{"location":"ru/#_1","title":"\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438","text":"<ul> <li>\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a: \u041f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u0444\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OpenVPN \u0438 \u043f\u0430\u043f\u043a\u0443 WireGuard \u2014 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u0430\u043c \u0432\u0441\u0451 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442 \u0437\u0430 \u0432\u0430\u0441.</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439: \u041a\u043b\u044e\u0447\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u0434\u0430\u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u0435\u0441\u043b\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 WireGuard.</li> <li>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a: \u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u0430\u043c \u0441\u043b\u0435\u0434\u0438\u0442 \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u043e\u0439 OpenVPN \u0438 WireGuard \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442 \u0438\u0445, \u0435\u0441\u043b\u0438 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0439\u0434\u0451\u0442 \u043d\u0435 \u0442\u0430\u043a.</li> <li>\u0423\u0434\u043e\u0431\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438: \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438. \u041c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0443\u0436\u043d\u043e, \u0438\u043b\u0438 \u0437\u0430\u0434\u0430\u0442\u044c \u0438\u043c\u0435\u043d\u0430.</li> <li>\u0412\u0441\u0451 \u043d\u0430 Python: \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u043d\u0430 Python. \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u043c \u0447\u0435\u0440\u0435\u0437 CLI.</li> </ul>"},{"location":"ru/#_2","title":"\u0412\u0430\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c","text":"<p>\u0427\u0442\u043e\u0431\u044b \u0432\u0441\u0451 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e, \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0441 \u0444\u043b\u0430\u0433\u043e\u043c <code>--privileged</code> - \u044d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 <code>sysctl</code>. \u041d\u043e \u0432\u0441\u0451 \u043d\u0435 \u0442\u0430\u043a \u043f\u043b\u043e\u0445\u043e, \u0434\u0430\u0436\u0435 \u0441 \u044d\u0442\u0438\u043c \u0444\u043b\u0430\u0433\u043e\u043c \u0432\u0441\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u043d\u0435 \u043e\u0442 root, \u0430 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0430\u043c\u0438, \u0442\u0430\u043a \u0447\u0442\u043e \u0441 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u0441\u0451 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435.</p> <p>\u0412 \u044d\u0442\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0432\u044b \u043d\u0430\u0439\u0434\u0451\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0443, \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 WireGuard Bridge.</p>"},{"location":"ru/architecture/","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":""},{"location":"ru/architecture/#_1","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":"<p>\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 WireGuard Bridge \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Python, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0434\u0435\u043b\u0438\u0442\u0441\u044f \u043d\u0430 5 \u0444\u0430\u0437:</p> <ol> <li>\u0424\u0430\u0437\u0430 1: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b (IP forwarding, \u043f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OpenVPN)</li> <li>\u0424\u0430\u0437\u0430 2: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 OpenVPN</li> <li>\u0424\u0430\u0437\u0430 3: \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard</li> <li>\u0424\u0430\u0437\u0430 4: \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard</li> <li>\u0424\u0430\u0437\u0430 5: \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432</li> </ol>"},{"location":"ru/architecture/#_2","title":"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442","text":"<p>\u0424\u0430\u0437\u0430 1:</p> <ul> <li>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 IP forwarding</li> <li>\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0430 OpenVPN</li> </ul> <p>\u0424\u0430\u0437\u0430 2:</p> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u043a OpenVPN-\u043a\u043b\u0438\u0435\u043d\u0442\u0430</li> <li>\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043d\u044f\u0442\u0438\u044f \u0442\u0443\u043d\u043d\u0435\u043b\u044f (\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 tun \u043f\u043e\u0434\u043d\u044f\u0442)</li> </ul> <p>\u0424\u0430\u0437\u0430 3:</p> <ul> <li>\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard</li> <li>\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 WireGuard</li> <li>\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard</li> </ul> <p>\u0424\u0430\u0437\u0430 4:</p> <ul> <li>\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard</li> <li>\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard</li> <li>\u0413\u043e\u0442\u043e\u0432\u043e \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e</li> </ul> <p>\u0424\u0430\u0437\u0430 5(\u043f\u0430\u0441\u0441\u0438\u0432\u043d\u0430\u044f):</p> <ul> <li>\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 OpenVPN \u0438 WireGuard \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0431\u043e\u044f</li> <li>\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435</li> </ul>"},{"location":"ru/configuration/","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"ru/configuration/#_2","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>WG_PORT</code> <code>1195</code> \u041f\u043e\u0440\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u044f WireGuard <code>CONFIG_NAME</code> <code>wg0</code> \u0418\u043c\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 WireGuard (\u0438\u043c\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430) <code>WG_CLIENTS</code> <code>client</code> \u0418\u043c\u0435\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u044f\u0442\u044b\u043c\u0438 <code>WG_ADDRESS_RANGE</code> <code>10.9.0.0/24</code> \u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0430\u0434\u0440\u0435\u0441\u043e\u0432 WireGuard <code>PUBLIC_IP</code> \u0430\u0432\u0442\u043e\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 IP \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"},{"location":"ru/configuration/#_3","title":"\u041c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043c\u043e\u0432","text":"\u041f\u0443\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e <code>/etc/openvpn/config</code> \u0424\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OpenVPN \u2705 \u0414\u0430 <code>/etc/wireguard</code> \u041a\u043b\u044e\u0447\u0438 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard \u26a0\ufe0f \u041d\u0430\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f <code>/var/log/openvpn</code> \u041b\u043e\u0433\u0438 OpenVPN \u274c \u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e"},{"location":"ru/configuration/#wireguard","title":"\u041a\u043b\u044e\u0447\u0438 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard","text":"<p>\u041a\u043b\u044e\u0447\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e. \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 WireGuard, \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u043a\u043b\u044e\u0447\u0435\u0439 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439.</p> <pre><code>-v ./bridge/wireguard:/etc/wireguard:Z\n</code></pre> <pre><code>-v ./bridge/wireguard/clients:/etc/wireguard/clients:Z -v ./bridge/wireguard/keys:/etc/wireguard/keys:Z\n</code></pre>"},{"location":"ru/configuration/#_4","title":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"ru/configuration/#_5","title":"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432","text":"<p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u044f\u0442\u044b\u043c\u0438, \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>WG_CLIENTS</code>.</p> <pre><code>-e WG_CLIENTS=\"number1,number2,number3\"\n# \u0421\u043e\u0437\u0434\u0430\u0441\u0442: number1.conf, number2.conf, number3.conf\n</code></pre> <p>\u0418\u043b\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>WG_CLIENTS</code>, \u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.</p> <pre><code>-e WG_CLIENTS=3\n# \u0421\u043e\u0437\u0434\u0430\u0441\u0442: client1.conf, client2.conf, client3.conf\n</code></pre>"},{"location":"ru/configuration/#_6","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435","text":"<p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435.</p> <pre><code>docker exec -it wireguardbridge setup_wireguard add-client test\n</code></pre> <p>\u042d\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u0441\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c <code>test</code> \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442 \u0441\u043b\u0443\u0436\u0431\u0443 WireGuard. \u041e\u0434\u043d\u0430\u043a\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0432\u0435\u0441\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 <code>/etc/wireguard</code> (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438 <code>clients</code> \u0438 <code>keys</code>), \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b \u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>WG_CLIENTS</code>, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0431\u044b\u043b \u0432\u043a\u043b\u044e\u0447\u0435\u043d \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435.</p>"},{"location":"ru/configuration/#_7","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0435\u0442\u0438","text":"<p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u0442\u0438 WireGuard \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>WG_ADDRESS_RANGE</code>.</p> <pre><code>-e WG_ADDRESS_RANGE=\"10.8.0.0/24\"\n# \u0421\u0435\u0440\u0432\u0435\u0440: 10.8.0.1, \u041a\u043b\u0438\u0435\u043d\u0442\u044b: 10.8.0.2, 10.8.0.3, \u0438 \u0442.\u0434.\n</code></pre>"},{"location":"ru/configuration/#ip","title":"\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 IP","text":"<p>\u0415\u0441\u043b\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 IP-\u0430\u0434\u0440\u0435\u0441 \u0438\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0435\u0433\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>PUBLIC_IP</code>.</p> <pre><code>-e PUBLIC_IP=\"10.8.0.1\"\n</code></pre>"},{"location":"ru/usage/","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"ru/usage/#_2","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c - \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u00f7\u043e\u0431\u0440\u0430\u0437 \u0438\u0437 GitHub Container Registry.</p>"},{"location":"ru/usage/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430","text":"<pre><code>docker run -d \\\n  --name wireguard-bridge \\\n  --privileged \\\n  -p 1195:1195/udp \\ # \u041f\u043e\u0440\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f WireGuard\n  -v /path/to/openvpn/config:/etc/openvpn/config:ro \\ # \u0424\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OpenVPN\n  -v /path/to/wireguard/data:/etc/wireguard \\ # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard\n  ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n</code></pre>"},{"location":"ru/usage/#_4","title":"\ud83d\udd11 \u0412\u0410\u0416\u041d\u041e: \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u0432\u044b \u0414\u041e\u041b\u0416\u041d\u042b \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 WireGuard:</p> <pre><code>-v /path/to/wireguard/data:/etc/wireguard\n</code></pre> <p>\u0418\u043b\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438 <code>clients</code> \u0438 <code>keys</code>.</p> <pre><code>docker run -d \\\n  --name wireguard-bridge \\\n  --privileged \\\n  -e WG_PORT=1194 \\ # \u041f\u043e\u0440\u0442 WireGuard\n  -p 1194:1194/udp \\ # \u041f\u043e\u0440\u0442 WireGuard\n  -v /path/to/openvpn/config:/etc/openvpn/config:ro \\ # \u0424\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 OpenVPN\n  -v /path/to/wireguard/clients:/etc/wireguard/clients:Z \\ # \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard\n  -v /path/to/wireguard/keys:/etc/wireguard/keys:Z \\ # \u041a\u043b\u044e\u0447\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard (\u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430)\n  ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n</code></pre> <p>\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0440\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f: \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f</p>"},{"location":"ru/usage/#_5","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438","text":"<p>\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433:</p> <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\ndocker ps | grep wireguard-bridge  # \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \"healthy\"\n\n# \u0420\u0443\u0447\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430\ndocker exec wireguard-bridge bridge --health-check\n</code></pre>"},{"location":"ru/usage/#docker-compose","title":"\u041f\u0440\u0438\u043c\u0435\u0440 Docker Compose","text":"<p>\u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 <code>docker-compose</code> \u0444\u0430\u0439\u043b\u0430.</p>"},{"location":"ru/usage/#_6","title":"\u041e\u0434\u0438\u043d \u043c\u043e\u0441\u0442 (\u043f\u0440\u0438\u043c\u0435\u0440)","text":"<pre><code>services:\n  wg-bridge:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1195:1195/udp\"\n    volumes:\n      - ./openvpn:/etc/openvpn/config:Z\n      - ./wireguard:/etc/wireguard:Z\n</code></pre> <p>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0442\u0430\u043a:</p> <pre><code>.\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 openvpn/\n\u2502   \u2514\u2500\u2500 your-config.ovpn   # \u0412\u0430\u0448 \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 OpenVPN (\u0438\u043b\u0438 \u0444\u0430\u0439\u043b .conf)\n\u2502   \u2514\u2500\u2500 ...                # \u0414\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u0439\u043b\u044b, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 OpenVPN\n\u2514\u2500\u2500 wireguard/             # \u042d\u0442\u043e\u0442 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 WireGuard\n\u2502   \u2514\u2500\u2500 clients/            # \u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432\n\u2502   \u2514\u2500\u2500 keys/              # \u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u043a\u043b\u044e\u0447\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard\n\u2502   \u2514\u2500\u2500 wg0.conf           # \u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 WireGuard\n\u2502   \u2514\u2500\u2500 ...                # \u0414\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u0439\u043b\u044b, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 WireGuard\n</code></pre>"},{"location":"ru/usage/#_7","title":"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0441\u0442\u043e\u0432 (\u043f\u0440\u0438\u043c\u0435\u0440)","text":"<pre><code>services:\n  wg-bridge-1:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge-1\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1195:1195/udp\"\n    environment:\n      - WG_PORT=1195\n    volumes:\n      - ./bridges/bridge-1/openvpn:/etc/openvpn/config:Z\n      - ./bridges/bridge-1/wireguard/clients:/etc/wireguard/clients:Z\n      - ./bridges/bridge-1/wireguard/keys:/etc/wireguard/keys:Z\n  wg-bridge-2:\n    image: ghcr.io/wlix13/wireguardbridge/wireguardbridge:v1.0\n    container_name: wg-bridge-2\n    restart: unless-stopped\n    privileged: true\n    ports:\n      - \"1194:1194/udp\"\n    environment:\n      - WG_PORT=1194\n    volumes:\n      - ./bridges/bridge-2/openvpn:/etc/openvpn/config:Z\n      - ./bridges/bridge-2/wireguard/clients:/etc/wireguard/clients:Z\n      - ./bridges/bridge-2/wireguard/keys:/etc/wireguard/keys:Z\n</code></pre> <p>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0442\u0430\u043a:</p> <pre><code>.\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 bridges/\n\u2502   \u2514\u2500\u2500 bridge-1/\n\u2502       \u2514\u2500\u2500 openvpn/\n\u2502           \u2514\u2500\u2500 your-config.ovpn\n\u2502           \u2514\u2500\u2500 ...\n\u2502       \u2514\u2500\u2500 wireguard/\n\u2502           \u2514\u2500\u2500 clients/\n\u2502           \u2514\u2500\u2500 keys/\n\u2502           \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 bridge-2/\n\u2502       \u2514\u2500\u2500 openvpn/\n\u2502           \u2514\u2500\u2500 your-config.ovpn\n\u2502           \u2514\u2500\u2500 ...\n\u2502       \u2514\u2500\u2500 wireguard/\n\u2502           \u2514\u2500\u2500 clients/\n\u2502           \u2514\u2500\u2500 keys/\n\u2502           \u2514\u2500\u2500 ...\n</code></pre>"}]}